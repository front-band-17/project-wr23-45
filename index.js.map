{"version":3,"file":"index.js","sources":["../src/js/portfolio-api.js","../src/js/render-reviews.js","../src/js/form-handler.js","../src/js/about-me.js","../src/js/covers.js","../src/js/faq.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst URL = `https://portfolio-js.b.goit.study/api/reviews`;\n\nexport async function fetchPortfolio() {\n  return await axios\n    .get(URL)\n    .then(response => {\n      return response.data;\n    })\n    .catch(error => {\n      throw new Error(error);\n    });\n}\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderGalleryMarkup(reviews) {\n  return reviews\n    .map(\n      ({ author, avatar_url, review }) => `\n        <li class=\"reviews-item swiper-slide\">\n            <img class=\"reviews-photo\" src=\"${avatar_url}\" alt=\"${author}\" width=\"48\" height=\"48\">\n            <h3 class=\"reviews-name\">${author}</h3>\n            <p class=\"reviews-content\">${review}</p>\n        </li>\n    `\n    )\n    .join('');\n}\n\nexport function updateGallery(gallery, markup) {\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  new Swiper('.swiper', {\n    slidesPerView: 4,\n    spaceBetween: 16,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n      enabled: true,\n    },\n    keyboard: { enabled: true },\n    breakpoints: {\n      320: {\n        slidesPerView: 1,\n        slidesSizesGrid: 343,\n      },\n      768: {\n        slidesPerView: 2,\n        slidesSizesGrid: 344,\n      },\n      1440: {\n        slidesPerView: 4,\n        slidesSizesGrid: 332,\n      },\n    },\n  });\n}\n\nexport function renderError() {\n  iziToast.error({\n    backgroundColor: '#EF4040',\n    messageColor: '#FAFAFB',\n    theme: 'dark',\n    progressBarColor: '#B51B1B',\n    maxWidth: '432',\n    messageSize: '16',\n    position: 'topRight',\n    message: 'Error loading reviews: Not found',\n  });\n}\n\nexport function renderNotFound() {\n  document.querySelector('.swiper').style.display = 'none';\n  document.querySelector('.not-found').style.display = 'block';\n}\n","import axios from \"axios\";\nimport iziToast from \"izitoast\";\n\nexport default function initFormHandler() {\n  document.addEventListener('DOMContentLoaded', () => {\n    const form = document.querySelector('.work-together__form');\n    const emailInput = form.querySelector('input[name=\"email\"]');\n    const commentInput = form.querySelector('input[name=\"message\"]');\n    const popup = document.getElementById('popup');\n\n    if (!form || !emailInput || !commentInput || !popup) return;\n\n    [emailInput, commentInput].forEach(input => {\n      input.addEventListener('blur', () => {\n        const maxLength = 25;\n        if (input.value.length > maxLength) {\n          input.dataset.fullValue = input.value; // зберігаємо повне значення, якщо потрібно відновити\n          input.value = input.value.slice(0, maxLength) + '...';\n        }\n      });\n    });\n\n    form.addEventListener('submit', async (event) => {\n      event.preventDefault();\n\n      // Відновлюємо значення, якщо вони були обрізані\n      if (emailInput.dataset.fullValue) emailInput.value = emailInput.dataset.fullValue;\n      if (commentInput.dataset.fullValue) commentInput.value = commentInput.dataset.fullValue;\n\n      const email = emailInput.value.trim();\n      const comment = commentInput.value.trim();\n\n      const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n      if (!email || !comment) {\n        iziToast.warning({ title: 'Warning', message: 'Please fill out both fields.' });\n        return;\n      }\n\n      if (!emailPattern.test(email)) {\n        iziToast.warning({ title: 'Warning', message: 'Please enter a valid email address.' });\n        return;\n      }\n\n      const payload = { email, comment };\n\n      try {\n        const response = await axios.post('https://portfolio-js.b.goit.study/api/requests', payload, {\n          headers: { 'Accept': 'application/json' },\n        });\n\n        if (response.status === 200 || response.status === 201) {\n          const data = response.data;\n          popup.querySelector('.popup__content').innerHTML = `\n            <button type=\"button\" class=\"popup__close\"></button>\n            <h3>${data.title}</h3>\n            <p>${data.message}</p>\n          `;\n\n          popup.classList.add('active');\n          form.reset();\n\n          const closeBtn = popup.querySelector('.popup__close');\n          closeBtn.addEventListener('click', () => popup.classList.remove('active'));\n\n          popup.addEventListener('click', (e) => {\n            if (e.target === popup) popup.classList.remove('active');\n          });\n\n          document.addEventListener('keydown', (e) => {\n            if (e.key === 'Escape') popup.classList.remove('active');\n          });\n        }\n      } catch (error) {\n        if (error.response) {\n          switch (error.response.status) {\n            case 400:\n              iziToast.error({ title: 'Error', message: 'Bad Request: Invalid request body.' });\n              break;\n            case 404:\n              iziToast.error({ title: 'Error', message: 'Not Found: Endpoint does not exist.' });\n              break;\n            case 500:\n              iziToast.error({ title: 'Error', message: 'Server Error: Please try again later.' });\n              break;\n            default:\n              iziToast.error({ title: 'Error', message: error.response.statusText });\n              break;\n          }\n        } else {\n          iziToast.error({ title: 'Error', message: `Network error: ${error.message}` });\n        }\n      }\n    });\n  });\n}\n","import Accordion from \"accordion-js\";\nimport Swiper from 'swiper/bundle';\n\nexport default function InitAboutMe() {\n  new Accordion(\".about-me-ac-container\", {\n    openOnInit: [0],\n    elementClass: \"about-me-ac-item\",\n    panelClass: \"about-me-ac-panel\",\n\n  });\n\n  new Swiper('.about-me-swiper-container', {\n\n    keyboard: { enabled: true },\n    loop: true,\n    navigation: {\n      nextEl: '.about-me-swiper-button-next',\n      enabled: true,\n\n    },\n\n    breakpoints: {\n      320: {\n        slidesPerView: 2,\n        slidesSizesGrid: 343,\n      },\n      768: {\n        slidesPerView: 3,\n        slidesSizesGrid: 600,\n      },\n      1440: {\n        slidesPerView: 6,\n        slidesSizesGrid: 332,\n      },\n    },\n  });\n\n  document.querySelector('.about-me-ac-container').style.display = 'block';\n  document.querySelector('.about-me-swiper').style.display = 'flex';\n}","export default function initCovers() {\n  document.addEventListener('DOMContentLoaded', () => {\n    const coversSection = document.querySelector('.covers');\n    const tileLines = document.querySelectorAll('.covers-tiles-line');\n\n    const observerOptions = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0.1,\n    };\n\n    const observer = new IntersectionObserver((entries, observer) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          tileLines.forEach(line => line.classList.add('animate'));\n        } else {\n          tileLines.forEach(line => line.classList.remove('animate'));\n        }\n      });\n    }, observerOptions);\n\n    observer.observe(coversSection);\n  });\n}\n\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nexport default function initFaq() {\n    document.addEventListener('DOMContentLoaded', function () {\n        new Accordion('.js-accordion', {\n        duration: 400,\n        showMultiple: true,\n        elementClass: 'faq-ac-item',\n        triggerClass: 'faq-ac-header',\n        panelClass: 'faq-ac-panel',\n        activeClass: 'is-active'\n        });\n    });\n}\n","import 'modern-normalize';\nimport initHeader from './js/header.js';\nimport { fetchPortfolio } from './js/portfolio-api';\nimport {\n  renderGalleryMarkup,\n  updateGallery,\n  renderError,\n  renderNotFound,\n} from './js/render-reviews.js';\nimport initFormHandler from './js/form-handler.js';\n\nimport InitAboutMe from './js/about-me';\nimport initCovers from './js/covers.js';\nimport './js/projects.js';\nimport initFaq from './js/faq.js';\n\nimport initProjectSwiper from './js/projects.js';\n//initHeader();\ninitCovers();\ninitFormHandler();\ninitFaq();\n//initProjectSwiper();\n\n\n// Init portfolio\n(async () => {\n  const response = await fetchPortfolio();\n  try {\n    const ul = document.querySelector('.reviews-list');\n    updateGallery(ul, renderGalleryMarkup(response));\n  } catch (error) {\n    renderError();\n    renderNotFound();\n  }\n})();\n\n// Init accordions\nInitAboutMe();"],"names":["URL","fetchPortfolio","axios","response","error","renderGalleryMarkup","reviews","author","avatar_url","review","updateGallery","gallery","markup","Swiper","renderError","iziToast","renderNotFound","initFormHandler","form","emailInput","commentInput","popup","input","event","email","comment","emailPattern","payload","data","e","InitAboutMe","Accordion","initCovers","coversSection","tileLines","observerOptions","entries","observer","entry","line","initFaq","ul"],"mappings":"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"}